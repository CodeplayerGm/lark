// Code generated by lark_sdk_gen. DO NOT EDIT.

package lark

import (
	"context"
)

// EventV2AttendanceUserTaskUpdatedV1
//
// 了解事件订阅的使用场景和配置流程，请点击查看 [事件订阅概述](https://open.feishu.cn/document/ukTMukTMukTM/uUTNz4SN1MjL1UzM)
// **事件**
// 当用户任务变更后，推送该用户的任务状态变更消息。
//
// doc: https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/Attendance/event/user-task-status-change-event
func (r *EventCallbackService) HandlerEventV2AttendanceUserTaskUpdatedV1(f eventV2AttendanceUserTaskUpdatedV1Handler) {
	r.cli.eventHandler.eventV2AttendanceUserTaskUpdatedV1Handler = f
}

type eventV2AttendanceUserTaskUpdatedV1Handler func(ctx context.Context, cli *Lark, schema string, header *EventHeaderV2, event *EventV2AttendanceUserTaskUpdatedV1) (string, error)

type EventV2AttendanceUserTaskUpdatedV1 struct {
	EmployeeID    string                                            `json:"employee_id,omitempty"`    // 员工 ID
	EmployeeNo    string                                            `json:"employee_no,omitempty"`    // 员工工号
	GroupID       string                                            `json:"group_id,omitempty"`       // 考勤组 ID
	ShiftID       string                                            `json:"shift_id,omitempty"`       // 班次 ID
	Date          int64                                             `json:"date,omitempty"`           // 日期
	StatusChanges []*EventV2AttendanceUserTaskUpdatedV1StatusChange `json:"status_changes,omitempty"` // 状态变更数组
}

type EventV2AttendanceUserTaskUpdatedV1StatusChange struct {
	BeforeStatus      string `json:"before_status,omitempty"`      // 变更前打卡结果，值为：【NoNeedCheck（无需打卡），SystemCheck（系统打卡），Normal（正常），Early（早退），Late（迟到），Lack（缺卡）】
	CurrentStatus     string `json:"current_status,omitempty"`     // 变更后打卡结果，值为：【NoNeedCheck（无需打卡），SystemCheck（系统打卡），Normal（正常），Early（早退），Late（迟到），Lack（缺卡）】
	BeforeSupplement  string `json:"before_supplement,omitempty"`  // 变更前结果补充，值为：【None（无），ManagerModification（管理员修改），CardReplacement（补卡通过），ShiftChange（换班），Travel（出差），Leave（请假），GoOut（外出），CardReplacementApplication（补卡申请中），FieldPunch（外勤打卡）】
	CurrentSupplement string `json:"current_supplement,omitempty"` // 变更后打卡结果补充，值为：【None（无），ManagerModification（管理员修改），CardReplacement（补卡通过），ShiftChange（换班），Travel（出差），Leave（请假），GoOut（外出），CardReplacementApplication（补卡申请中），FieldPunch（外勤打卡）】
	WorkType          string `json:"work_type,omitempty"`          // 上下班状态变更，值为：【on（上班），off（下班）】
	Index             string `json:"index,omitempty"`              // 任务中的第几次上下班
}
